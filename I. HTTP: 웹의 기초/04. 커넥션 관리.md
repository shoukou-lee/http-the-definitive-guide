## TCP 커넥션
### GET http://www.joes-hardware.com:80/power-tools.html 요청의 수행 과정
![tcp-connection](/figures/tcp-connection.png)
1. 브라우저가 hostname `www.joes-hardware.com`를 찾는다.
1. 브라우저가 hostname에 해당하는 IP 주소 `202.43.78.3`을 찾는다.
1. 브라우저가 포트 번호 `80`을 얻는다.
1. 브라우저가 `202.43.78.3:80` 포트로 TCP 커넥션을 생성한다.
1. 브라우저가 서버로 GET 요청을 전송한다.
1. 브라우저가 서버에서 온 응답 메시지를 읽는다.
1. 브라우저가 커넥션을 끊는다.

### HTTP 메시지의 전송
![protocol-stack](/figures/protocol-stack.png)
- HTTP는 TCP 커넥션을 통해 순서대로 메시지를 전송한다.
- TCP는 `Segment` 단위로 데이터를 잘게 나누고, 이는 하나의 IP 패킷이 된다. 이 패킷이 다른 IP로 전달된다.
- TCP의 `per-segment packetization` 과정은 HTTP 프로그래머가 볼 수 없는 영역에서 이루어진다.

### TCP 커넥션의 유지
- TCP 커넥션은 `<발신지 IP, 발신지 포트, 수신지 IP, 수신지 포트>`로 유일하게 식별된다.
- 다시 말하면, 네 요소를 똑같이 가지고 있는 커넥션이 둘 이상 있을 수 없다.
